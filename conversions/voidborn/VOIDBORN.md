# Exodus: Voidborn

## Total Conversion Scenario for Ultima III: Exodus

**Theme**: Cosmic horror. An alien entity — the Voidborn — has torn through
the fabric of reality, corrupting the land of Sosaria into a nightmare realm.
Forests are now fungal growths, mountains are crystalline spires, and the
few surviving towns are desperate havens. The party must gather forbidden
relics and close the Void Rifts before reality collapses entirely.

---

## Setting

### The Ashen Realm

Sosaria is gone. What remains is the Ashen Realm — a world half-consumed by
an alien intelligence that seeped through a tear in reality called the Breach.
The sky is perpetually overcast, tinged violet at the horizon. The seas have
turned to acrid brine. Forests have been replaced by towering fungal growths
that pulse with bioluminescent light. The mountains have crystallized into
jagged spires that hum at frequencies that drive men mad.

### Three Eras

**Before (The Golden Age)**: Sosaria thrived under Lord British's protection.
The moongates connected distant lands, commerce flourished, and the defeat of
Mondain and Minax seemed to promise lasting peace.

**The Breach**: Without warning, a rift opened in the sky above the center of
the world. From it poured an alien presence — not a creature, but an
intelligence, vast and incomprehensible. It did not conquer; it *replaced*.
Reality itself began to rewrite around its will. Lord British vanished on the
first night, his castle sealed by null fields that no spell could penetrate.

**After (The Ashen Age)**: The few survivors cluster in walled havens, trading
scraps and rumors. The moongates have become Void Rifts — unstable tears that
shift position with the moons, spewing corrupted matter. The dungeons have
become abysses that descend into the Voidborn's domain. Something stirs at
the bottom, building a physical form from stolen reality.

### Tone

Cosmic horror with survival elements. The enemy is not evil in a human sense —
it is alien, vast, and indifferent. Hope exists but is fragile. The party's
quest is not heroic triumph but desperate necessity: seal the Breach before
reality collapses entirely.

---

## Factions

| Token | Vanilla | Voidborn | Source | Location |
|-------|---------|----------|--------|----------|
| Mark 1 | Fire | Sigil of Flame | Shrine of Immolation | BRND |
| Mark 2 | Force | Sigil of Binding | Shrine of Chains | SHRN |
| Mark 3 | Snake | Sigil of Venom | Shrine of the Serpent | SHRN |
| Mark 4 | Kings | Sigil of Dominion | Shrine of the Crowned | SHRN |
| Card 1 | Sol | Shard of the Sun | Abyss of Flame (deepest level) | MAPM |
| Card 2 | Moon | Shard of the Moon | Abyss of Madness (deepest level) | MAPN |
| Card 3 | Love | Shard of the Heart | Abyss of Serpents (deepest level) | MAPO |
| Card 4 | Death | Shard of the Skull | Abyss of Time (deepest level) | MAPQ |

**The Prophet** (formerly Lord British): Trapped in the sealed Bastion, visible
only through null field shimmer. Provides cryptic guidance via magical echoes
left in his throne room. The Prophet foresaw the Breach but could not prevent it.

**Haven Councils**: Each surviving town is governed by a desperate council.
They distrust outsiders but offer supplies and rumors in exchange for proof of
the party's strength (quest completion gates).

**The Void Cult**: Former citizens who believe the Voidborn is a god. They
worship at corrupted shrines and attack those who seek the Sigils. Their
leader, the Eyeless Seer, guards the approach to the final Abyss.

---

## Main Quest

### Act 1: Awakening

The party emerges at the Prophet's Bastion (28, 35), the last safe place in
the Ashen Realm. The Bastion's null field barrier is failing — strange sounds
echo through the halls, and the guards speak of nightmares made real.

**Objective**: Speak to the Prophet's Echo in the throne room. Learn that four
Sigils of power are hidden in the corrupted shrines. These Sigils are fragments
of the original seal that held reality together. Collecting them reveals the
locations of four Shards, buried in the deepest abysses.

**Immediate tasks**:
- Equip the party at the Bastion's shops (limited selection)
- Explore the Bastion for rumors and the Prophet's Echo
- Venture into the Ashen Realm to find the first shrine

### Act 2: The Sigils

Travel to four corrupted shrines scattered across the Realm. Each shrine is
guarded by themed encounters and environmental hazards.

| Sigil | Location | Guardian | Challenge | Story Beat |
|-------|----------|----------|-----------|------------|
| Flame | BRND (Brand) | Pyric Horrors | Ichor pools surround the shrine | Fire purifies corruption — but at a cost |
| Binding | SHRN (north) | Null Wardens | Null fields block direct approach | Force alone cannot contain the void |
| Venom | SHRN (center) | Lurker Nests | Poison traps and ambush predators | Subtlety and patience over brute force |
| Dominion | SHRN (south) | Void Cult priests | Cult members attack on sight | The corrupted worship what destroys them |

**Between shrines**: The party must survive overworld travel through corrupted
terrain, encounter roaming Thralls and Husks, and gather resources from the
haven towns. Each town provides different rumors pointing to shrine locations.

### Act 3: The Shards

With all four Sigils, the party can enter the deep abysses — dungeons that
descend 8 levels into the Voidborn's domain. Each abyss has a distinct theme
and increasing difficulty.

| Shard | Dungeon | Theme | Key Monster | Story Beat |
|-------|---------|-------|-------------|------------|
| Sun | Abyss of Flame | Fire and magma | Watchers | The void fears what it cannot extinguish |
| Moon | Abyss of Madness | Shifting walls, traps | Horrors | Reality breaks down near the core |
| Heart | Abyss of Serpents | Poison and ambush | Lurkers | Love is the last thing the void understands |
| Skull | Abyss of Time | Time distortion | Abyssals | Death is not an end but a transition |

**Dungeon progression**: Levels 1-2 are navigable with basic equipment.
Levels 3-4 require better gear from haven shops. Levels 5-6 demand magical
support (Void Arts and Warding Rites). Levels 7-8 are the domain of the
Voidborn's guardians — only the prepared survive.

### Act 4: Confrontation

With all four Sigils and four Shards, the Void Rifts align to reveal the
path to the Voidborn's physical nexus — the place where reality and void
intersect. The Time Lord's sanctum (TIME) holds the key: the eight tokens
combine to form a seal that can close the Breach permanently.

**Final approach**: Navigate the Exodus Castle equivalent (MAPZ) — now the
Voidborn's Nexus, a structure of crystallized void matter. The Nexus is
populated by the strongest enemies: Abyssals, Watchers, and the Voidborn's
avatar itself.

**Resolution**: The party does not "defeat" the Voidborn — it is too vast for
mortal combat. Instead, they activate the seal, closing the Breach and severing
the Voidborn's connection to reality. The Ashen Realm begins to heal. The
Prophet's Bastion reopens. But the scars remain.

---

## Locations

### Overworld
| Map | Vanilla | Voidborn | Description |
|-----|---------|----------|-------------|
| MAPA | Sosaria | The Ashen Realm | Corrupted overworld: ash plains, brine seas, fungal forests |
| MAPL | Ambrosia | The Deep Reef | Submerged realm accessible via whirlpool, alien coral structures |

### Castles
| Map | Vanilla | Voidborn | Role |
|-----|---------|----------|------|
| MAPB | Lord British Castle | The Prophet's Bastion | Home base, sealed by null fields, quest hub |
| MAPC | Castle of Death | The Eyeless Spire | Void Cult headquarters, mid-game challenge |
| MAPZ | Exodus Castle | The Voidborn's Nexus | Final area, crystallized void matter |

### Towns (Havens)
| Map | Vanilla | Voidborn | Key Feature | Dialog File |
|-----|---------|----------|-------------|-------------|
| MAPD | Dawn | Ashfall | First haven, basic supplies | TLKD |
| MAPE | Fawn | Duskhollow | Rumors of the Flame Sigil | TLKE |
| MAPF | Grey | Grimwall | Fortified, paranoid council | TLKF |
| MAPG | Moon | Riftwatch | Near a Void Rift, unstable | TLKG |
| MAPH | Yew | Thornhaven | Deep in fungal forest | TLKH |
| MAPI | Montor East | Ironhold East | Mining haven, gem trade | TLKI |
| MAPJ | Montor West | Ironhold West | Forge, weapons upgrade | TLKJ |
| MAPK | Devil Guard | The Last Wall | Border garrison, final shop | TLKK |

### Abysses (Dungeons)
| Map | Vanilla | Voidborn | Theme | Shard |
|-----|---------|----------|-------|-------|
| MAPM | Fire | Abyss of Flame | Magma, heat damage | Sun |
| MAPN | Doom | Abyss of Madness | Shifting layout | Moon |
| MAPO | Snake | Abyss of Serpents | Poison, ambush | Heart |
| MAPP | Perinian | Abyss of Chains | Null fields, binding | — |
| MAPQ | Time | Abyss of Time | Temporal distortion | Skull |
| MAPR | Mine | Abyss of Echoes | Sound-based traps | — |
| MAPS | Darkling | Abyss of Shadows | Darkness, stealth | — |

### Special Locations
| File | Vanilla | Voidborn | Purpose |
|------|---------|----------|---------|
| BRND | Brand Shrine | Shrine of Immolation | Sigil of Flame |
| SHRN | Shrines | Corrupted Shrines | Sigils of Binding/Venom/Dominion |
| FNTN | Fountains | Ichor Wells | Stat modification (risk/reward) |
| TIME | Time Lord | The Chronarch's Sanctum | Final seal activation |

---

## NPCs & Dialog

| TLK | Location | Key NPCs | Dialog Theme |
|-----|----------|----------|--------------|
| A | Prophet's Bastion | The Echo, Guard Captain, Archivist | Quest exposition, Sigil lore |
| B | Eyeless Spire | Cult Leader, Prisoners, Turncoat | Warnings, Void Cult motives |
| C | Castle Arena | Pit Master, Spectators | Combat hints, arena challenges |
| D | Ashfall | Mayor Corren, Herbalist, Trader | Survival tips, local rumors |
| E | Duskhollow | Elder Syl, Scout Brynn, Smith | Flame Sigil location hints |
| F | Grimwall | Commander Hask, Watchman, Healer | Paranoid warnings, fortification |
| G | Riftwatch | Rift Scholar, Merchant, Refugee | Rift behavior, moon phases |
| H | Thornhaven | Forager Wyn, Mycologist, Guide | Fungal forest navigation |
| I | Ironhold East | Mine Boss, Gem Dealer, Engineer | Gem sources, Abyss rumors |
| J | Ironhold West | Master Smith, Armorer, Courier | Weapon upgrades, trade routes |
| K | The Last Wall | Garrison Commander, Veteran, Spy | Final warnings, Nexus approach |
| L | Deep Reef | Coral Sage, Shell Trader, Diver | Ancient lore, hidden passages |
| M-S | Abyss encounters | Trapped Explorers, Ghosts | Dungeon hints, item locations |

---

## What Changes

| Layer | Scope | Method |
|-------|-------|--------|
| **Names** | All terrain, monster, weapon, armor, spell names | `patch edit --region name-table` |
| **Monsters** | Stats rebalanced, tougher encounters | `bestiary edit` / `bestiary import` |
| **Party** | 4 custom characters with themed names | `roster create` / `roster import` |
| **Dialog** | All NPC text fully rewritten | `tlk build` from text sources |
| **Maps** | All overworld and town maps redesigned | `map import` from compiled sources |
| **Combat** | All battlefield layouts redesigned | `combat import` from JSON sources |
| **Save** | Fresh start at Prophet's Bastion | `save edit` / `save import` |
| **Text** | Title screen: "EXODUS: VOIDBORN" | `text edit` |
| **Specials** | All 4 special locations redesigned | `special import` from JSON sources |
| **Tile Graphics** | All 256 glyphs redesigned | `shapes import` from compiled tiles |
| **Moongates** | Rift positions in protective ring | `patch edit --region moongate-x/y` |
| **Food rate** | Doubled depletion (harsher survival) | `patch edit --region food-rate` |
| **Shop text** | All shop overlay strings rewritten | `shapes edit-string` |

## Renamed Entities

### Terrain
| Vanilla | Voidborn |
|---------|----------|
| Water | Brine |
| Grass | Ash |
| Brush | Thorns |
| Forest | Mycelium |
| Mountains | Spires |
| Dungeon | Abyss |
| Towne | Haven |
| Castle | Bastion |
| Moongate | Rift |
| Lava | Ichor |
| Force Field | Null Field |

### Monsters
| Vanilla | Voidborn | Notes |
|---------|----------|-------|
| Orc | Thrall | Mind-controlled husks |
| Skeleton | Husk | Desiccated shells |
| Giant | Brute | Mutated berserkers |
| Daemon | Horror | Void manifestations |
| Pincher | Lurker | Ambush predators |
| Dragon | Watcher | All-seeing sentinels |
| Balron | Abyssal | Deep void entities |
| Exodus | Voidborn | The alien entity itself |
| Brigand | Marauder | Desperate survivors |
| Goblin | Gremlin | Corrupted fey |
| Ghoul | Wraith | Spectral remnants |
| Zombie | Risen | Void-animated dead |

### Weapons
| Vanilla | Voidborn |
|---------|----------|
| Hands | Fist |
| Dagger | Shiv |
| Mace | Club |
| Sword | Blade |
| 2H Sword | Glaive |
| +2 variants | V- (Void-touched) |
| +4 variants | D- (Doom) |
| Exotic | Null |

### Armor
| Vanilla | Voidborn |
|---------|----------|
| Cloth | Rags |
| Leather | Hide |
| Chain | Links |
| +2 variants | V- (Void-warded) |
| Exotic | Ward |

### Spells
**Void Arts** (Wizard): Spark, Shard, Warp, Rend, Drain, Tear, Crush,
Scry, Blight, Scour, Toxin, Unmake, Shift, Rift, Annul

**Warding Rites** (Cleric): Mend, Glow, Ward, Shield, Slow, Rest, Heal,
Purge, Follow, Sleep, Bless, Guide, Banish, Cleanse, Veil, Restore

---

## The Party

| Slot | Name | Race | Class | Role | Backstory |
|------|------|------|-------|------|-----------|
| 0 | KAEL | Human | Ranger | The Warden | Former ranger of the old king's scouts. Survived the Breach by instinct alone. Haunted by what he saw in the first hours. |
| 1 | LYRA | Elf | Wizard | The Seer | An elven scholar who gazed too long into a Void Rift. Now sees glimpses of the Voidborn's intent — a gift that may be a curse. |
| 2 | THARN | Dwarf | Fighter | The Bulwark | Last of the Ironhold garrison. Carries a shield forged before the Breach, one of the few artifacts the void cannot corrode. |
| 3 | MIRA | Bobbit | Thief | The Ghost | A former merchant's daughter who learned to move unseen when the Thralls came for her village. Trusts no one but the party. |

---

## Combat Balance

| Area | Encounter File | Target Level | HP Range | ATK Range | Special |
|------|---------------|-------------|----------|-----------|---------|
| Ash Plains | MONA | 1-3 | 40-80 | 25-45 | — |
| Fungal Forest | MONB | 3-5 | 60-120 | 35-55 | Poison |
| Crystal Spires | MONC | 5-7 | 80-160 | 45-70 | — |
| Brine Sea | MOND | 4-6 | 60-120 | 35-60 | — |
| Haven Guards | MONE | 3-5 | 50-100 | 30-50 | — |
| Abyss L1-2 | MONF | 5-7 | 80-150 | 45-65 | — |
| Abyss L3-4 | MONG | 7-9 | 120-200 | 55-80 | Sleep |
| Abyss L5-6 | MONH | 9-11 | 160-280 | 65-90 | Poison, Boss |
| Abyss L7-8 | MONI | 11-14 | 200-400 | 80-120 | Boss, Negate |
| Bastions | MONJ | 6-8 | 100-180 | 50-75 | — |
| Deep Reef | MONK | 8-10 | 140-240 | 60-85 | Divide |
| Special | MONL | 10-12 | 180-300 | 70-95 | Teleport |
| Bosses | MONZ | 14+ | 400-999 | 90-150 | Boss, Negate |

---

## Asset Coverage

| Category | Count | Format | Source Dir |
|----------|-------|--------|------------|
| Bestiary | 13 files | JSON (dict-of-dicts) | `sources/bestiary_*.json` |
| Combat Maps | 9 files | JSON (11x11 tiles + positions) | `sources/combat_*.json` |
| Dialog | 19 files | TXT (20-char lines, `---` separators) | `sources/tlk*.txt` |
| Surface Maps | 13 files | Text-art (64x64) | `sources/map[a-l,z].map` |
| Dungeon Maps | 7 files | Text-art (8x 16x16) | `sources/map[m-s].map` |
| Tile Graphics | 256 tiles | Text-art (7x8 pixel) | `sources/tiles.tiles` |
| Name Table | 1 file | Text (one name/line) | `sources/names.names` |
| Special Locations | 4 files | JSON (11x11 tiles) | `sources/special_*.json` |
| Title Text | 1 file | JSON (records) | `sources/title.json` |
| Shop Overlays | 1 file | JSON (text-matching) | `sources/shop_strings.json` |
| Sound | 3 files | JSON (raw byte arrays) | `sources/sosa/sosm/mbs.json` |
| Dungeon Drawing | 1 file | JSON (raw byte array) | `sources/ddrw.json` |
| Engine Strings | 2 files | JSON (vanilla text match) | `sources/engine_strings*.json` |

## How to Apply

```bash
cd conversions/voidborn/

# Full conversion from text-first sources
bash apply.sh /path/to/GAME/

# Or step by step:
# 1. Compile and import tile graphics (256 tiles)
python ../tools/tile_compiler.py compile sources/tiles.tiles --format json > /tmp/tiles.json
u3edit shapes import SHPS /tmp/tiles.json --backup

# 2. Compile and import maps (20 maps total)
for letter in a b c d e f g h i j k l z; do
    python ../tools/map_compiler.py compile sources/map${letter}.map -o /tmp/map.json
    u3edit map import MAP$(echo $letter | tr a-z A-Z) /tmp/map.json --backup
done
for letter in m n o p q r s; do
    python ../tools/map_compiler.py compile sources/map${letter}.map --dungeon -o /tmp/map.json
    u3edit map import MAP$(echo $letter | tr a-z A-Z) /tmp/map.json --backup
done

# 3. Build all dialog (19 files)
for letter in a b c d e f g h i j k l m n o p q r s; do
    u3edit tlk build sources/tlk${letter}.txt TLK$(echo $letter | tr a-z A-Z) --backup
done

# 4. Import all bestiary (13 files)
for letter in a b c d e f g h i j k l z; do
    u3edit bestiary import MON$(echo $letter | tr a-z A-Z) sources/bestiary_${letter}.json
done

# 5. Compile and apply name table
python ../tools/name_compiler.py compile sources/names.names | \
    xargs u3edit patch edit ULT3 --region name-table --data

# 6. Apply engine inline string patches
# Option A: Binary (in-place, length constrained)
u3edit patch strings-import ULT3 sources/engine_strings.json --backup

# Option B: Source-level (no length limits, requires asmiigs)
bash ../../engine/scenario_build.sh . --apply-to /path/to/GAME/
```

Requires a directory of extracted Ultima III ProDOS files.

---

## Limitations

- **Inline string length**: Binary patching (`strings-edit`) requires replacement text
  to fit within original byte allocation. For longer strings, use source-level
  patching via `scenario_build.sh` (requires `asmiigs` assembler).
- **Data-only**: Cannot change game logic, spell effects, or combat mechanics
- **Same tile dimensions**: Tiles are 7x8 pixels — no higher resolution possible
- **Name-table budget**: All names must fit within 921 bytes total (891 usable)
- **BLOAD DDRW tail**: The last ~25 bytes of the name-table contain a loader
  string and code fragment that must be preserved
- **Fixed encounter structure**: 16 monsters per encounter file, same spawn logic
- **No new locations**: Cannot add new towns, dungeons, or special areas — only
  re-theme existing ones
